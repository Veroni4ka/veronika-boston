<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	
			
		<title>MixoLogy: Xamarin.Forms app – Veronika Dev</title>
<link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
<link rel="dns-prefetch" href="//s.w.org">



<link rel="stylesheet" id="wp-block-library-css" href="../../../../../wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="dashicons-css" href="../../../../../wp-includes/css/dashicons.min.css" type="text/css" media="all">
<link rel="stylesheet" id="obfx-module-pub-css-menu-icons-0-css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=2.7.3" type="text/css" media="all">
<link rel="stylesheet" id="obfx-module-pub-css-menu-icons-1-css" href="../../../../../wp-content/plugins/themeisle-companion/obfx_modules/menu-icons/css/public.css" type="text/css" media="all">
<link rel="stylesheet" id="neve-style-css" href="../../../../../wp-content/themes/neve/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="neve-generated-style-css" href="../../../../../wp-content/uploads/neve-theme/neve-customizer.css" type="text/css" media="all">
<script type="text/javascript" src="../../../../../wp-includes/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../../../../../wp-includes/js/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var NeveProperties = {"ajaxurl":"http:\/\/OFFLINEZIP.wpshowp-admin\/admin-ajax.php","nonce":"2c4df5398a"};
/* ]]> */
</script>
<script type="text/javascript" src="../../../../../wp-content/themes/neve/assets/js/script.min.js"></script>








<link rel="icon" href="../../../../../wp-content/uploads/2019/02/cropped-v-logo-32x32.png" sizes="32x32">
<link rel="icon" href="../../../../../wp-content/uploads/2019/02/cropped-v-logo-192x192.png" sizes="192x192">
<link rel="apple-touch-icon-precomposed" href="../../../../../wp-content/uploads/2019/02/cropped-v-logo-180x180.png">
<meta name="msapplication-TileImage" content="../../../../../wp-content/uploads/2019/02/cropped-v-logo-270x270.png">
</head>

<body class="post-template-default single single-post postid-300 single-format-standard wp-custom-logo nv-sidebar-full-width elementor-default">
<div class="wrapper">
	<header class="header" role="banner">
		<a class="neve-skip-link show-on-focus" href="#content" tabindex="0">Skip to content</a>
		
<nav class="nv-navbar" role="navigation">
	<div class="container">
		<div class="row">
			<div class="col-md-12 nv-nav-wrap nav-left">
				<div class="nv-nav-header">
					<div class="site-logo">
						<a class="brand" href="../../../../../index.html" title="Veronika Dev">
							<img src="../../../../../wp-content/uploads/2019/01/cropped-image-1.png" alt="Veronika Dev">						</a>
					</div> 
					<div class="navbar-toggle-wrapper">
												<button class="navbar-toggle" aria-label="Navigation Menu" aria-expanded="false">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="screen-reader-text">Toggle Navigation</span>
						</button>
																	</div> 
				</div>
				<div role="navigation" aria-label="Primary Menu"><ul id="nv-primary-navigation" class="menu"><li id="menu-item-39" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-39"><a href="../../../../../index.html">Home</a></li>
<li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-38"><a href="../../../../../blog/index.html">Blog</a></li>
<li id="menu-item-246" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-246"><a href="../../../../../speaking/index.html">Speaking</a></li>
</ul></div>			</div> 
		</div> 
	</div> 
</nav>
	</header>

	
	<main id="content" class="neve-main" role="main">

	<div class="container single-post-container">
		<div class="row">
						<article id="post-300" class="nv-single-post-wrap col post-300 post type-post status-publish format-standard hentry category-uncategorized">
				<div class="entry-header"><div class="nv-title-meta-wrap"><h1 class="title entry-title">MixoLogy: Xamarin.Forms app</h1><ul class="nv-meta-list"><li class="meta author vcard"><img class="photo" alt="Veronika" src="http://2.gravatar.com/avatar/528222f548107577906e9a80a8ba1d21?s=96&d=mm&r=g"> <span class="author-name fn"><a href="../../../../../author/veronika/index.html" title="Posts by Veronika" rel="author">Veronika</a></span></li><li class="meta date posted-on"><time class="entry-date published" datetime="2019-05-18T03:53:19+00:00" content="2019-05-18">May 18, 2019</time><time class="updated" datetime="2019-05-24T21:17:10+00:00">May 24, 2019</time></li></ul></div></div><div class="nv-content-wrap entry-content">
<p>In this blog post, I’ll be talking about my latest
experience with Xamarin.Forms: layouts, navigation, barcode scanner API
integration, Xamarin.Essentials (for more info about it, please, try to attend
my Xamarin.Essentials talk <a href="https://veronika.dev/speaking/index.html">https://veronika.dev/speaking/index.html</a>).
</p>



<p>This story started at Boston Code Camp 31 (<a href="https://www.bostoncodecamp.com/">https://www.bostoncodecamp.com</a>) where I had an opportunity both to give a talk and to learn from great speakers. Moreover, I had an opportunity to meet Vue Vixens Goddess Jen Looper (<a href="https://twitter.com/jenlooper">https://twitter.com/jenlooper</a>). Side note: congrats to her for joining Microsoft just a couple of weeks ago! During her session she was talking about an app she created using Vue.js and TensorFlow, it’s called MixoLogy. I was very impressed by it and I liked the idea a lot, so I asked Jen if I can use her idea to create the same app with Xamarin.Forms and she was kind enough to allow that. Just before I started working on my app I was reading about layouts in Xamarin, including David Ortunau’s blog post about FlexLayout (<a href="https://devblogs.microsoft.com/xamarin/adaptive-mobile-designs-with-flexlayout/">https://devblogs.microsoft.com/xamarin/adaptive-mobile-designs-with-flexlayout/</a>). He has a great idea to offer developers different challenges with brand new features, so the Xamarin team can get feedback and you and me can learn more about the new layout and get their Xamarin goodies. Unfortunately I didn’t participate in the challenge, but I wanted to try the layouts(FlexLayout mostly) and Visuals. I was impressed with how easy you can make your app’s screen adaptable for different devices: you can organize content in a row or column, align it and add auto wrap. Lots of great options to play with there. It was challenging for me to organize content items (they were images) the exact way I wanted them to be: centered 2 columns layout when a phone is in a vertical position and then I also wanted to have a logo above the columns and a button for loading more right below. So, something like that: </p>



<figure class="wp-block-image"><img src="../../../../../wp-content/uploads/2019/05/image-1024x748.png" alt="" class="wp-image-301" srcset="../../../../../wp-content/uploads/2019/05/image-1024x748.png 1024w,../../../../../wp-content/uploads/2019/05/image-300x219.png 300w,../../../../../wp-content/uploads/2019/05/image-768x561.png 768w,../../../../../wp-content/uploads/2019/05/image.png 1240w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>My mistake was: I tried to add everything to the same layout. So, when I realized it wasn’t working the way I wanted I figured out I needed to separate the logo, images, and button. I wrapped my FlexLayout in StackLayout and moved the logo image above the FlexLayout and the “Load More” button below it. Images became ImageButtons and I specified horizontal and vertical options for them: LayoutOptions.CenterAndExpand. I feel like my web development background helped me a lot here and I definitely like it. </p>



<figure class="wp-block-image"><img src="../../../../../wp-content/uploads/2019/05/mainPageScheme.png" alt="" class="wp-image-302" srcset="../../../../../wp-content/uploads/2019/05/mainPageScheme.png 1006w,../../../../../wp-content/uploads/2019/05/mainPageScheme-150x150.png 150w,../../../../../wp-content/uploads/2019/05/mainPageScheme-298x300.png 298w,../../../../../wp-content/uploads/2019/05/mainPageScheme-768x773.png 768w" sizes="(max-width: 1006px) 100vw, 1006px"></figure>



<p>If you check my code on GitHub (I’ll provide a link in
the end) you’ll see I decided to display recipes as “2 steps” alerts. I don’t
think it was a good idea because it’s hard to go back and forth between
ingredients list and the actual recipe. I think I’ll just add a new screen or
pass a recipe id to RandomRecipe screen. I think I was a little lazy there. If
you’re building an actual app and want to pass parameters between screens
definitely use MVVM approach (link to MVVM). </p>



<p>So, since I mentioned RandomRecipe screen, let’s talk
a little more about it. This screen shows random recipes and the displayed
recipe can be changed by shaking your phone (cool, right?). For the phone shake
detection, I used Accelerometer from Xamarin.Essentials library. Shake
detection is Based on raw readings from the accelerometer to calculate
acceleration. It uses a simple queue mechanism to detect if 3/4ths of the
recent accelerometer events occurred in the last half second. Acceleration is
calculated by adding the square of the X, Y, and Z readings from the
accelerometer and comparing it to a specific threshold. I’m a big fan of
Xamarin.Essentials: you can have access to lots of native functionality without
the need of doing it separately for each environment. You can use all APIs from
Xamarin.Essentials in your app or just 1 or 2. They are based on the linking
technology, so when you publish your Xamarin.Forms app to App Store and Google
Play all unused APIs from the library will be unlinked and they won’t add any
redundant weight to your app.</p>



<p>The third screen of the app is supposed to show recipes based on the alcohol you have. Jen used ML capabilities in her app and trained a TensorFlow model to recognize alcohol by talking a picture of a bottle. Unfortunately, I don’t travel as much, I didn’t have that much “training material”.  I was recommended to use a barcode scanner. I was hesitant at first because the whole point of the app was to use ML, but then I realized I could practice my ML skills with different apps where I actually really need to have ML. I used BarcodeLookup API here. It’s really easy to implement and they have a giant database of barcodes. Big downside: the price. You can use the trial for a little bit, but after that it gets pricey. If you know of any free alternatives, please, let me know. BarcodeLookup API gets a barcode string and then returns information about the product. I parsed the product name field and got alcohol type from there. But in order to pass the barcode string, you need to get it. Your user needs to take a picture of the barcode so you can work with it in the backend. For taking a picture of barcode I used ZXing library (<a href="https://github.com/zxing/zxing">https://github.com/zxing/zxing</a>). It’s a cross-platform library for taking pictures of barcode and parsing them. It’s very easy to use. I wish Xamarin.Essentials library had an API for taking pictures (I think Xam.Plugin.Media can be a good candidate to be added to Essentials, but it definitely has its pros and cons).  It was fun to work on this app and I definitely learned a lot. </p>



<figure class="wp-block-image"><img src="../../../../../wp-content/uploads/2019/05/image-1-577x1024.png" alt="" class="wp-image-303" srcset="../../../../../wp-content/uploads/2019/05/image-1-577x1024.png 577w,../../../../../wp-content/uploads/2019/05/image-1-169x300.png 169w,../../../../../wp-content/uploads/2019/05/image-1.png 618w" sizes="(max-width: 577px) 100vw, 577px"></figure>



<p>I continue working on the app. Now with new Xamarin Visuals and other features of Xamarin.Forms 4.0 lots of things in my app can be improved:</p>



<ul><li>Add Shell for the bottom navigation</li><li>Replace the recipe pop-up with a page</li><li>Add MVVM to pass parameters between pages</li><li>Replace Barcode API with a custom tool (with actual ML, so the pun in the name won’t be wasted)</li><li>Code cleaning (always needed)</li></ul>



<p>Feel free to check my code here (<a href="https://github.com/Veroni4ka/MixoLogy">https://github.com/Veroni4ka/MixoLogy</a>) and as always I’m happy to receive your feedback and answer question through Twitter DMs, email and in-person chat.  </p>
</div>
			</article>
					</div>
	</div>
</main>


	<footer role="contentinfo">
					<div class="footer-content-wrap">
				<div class="container">
					<div class="row nv-footer-widgets">
													<div class="col-md-4">
								<div id="custom_html-4" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div style="float:left;" class="elementor-social-icons-wrapper">
							<a class="elementor-icon elementor-social-icon elementor-social-icon-github" href="https://github.com/Veroni4ka" target="_blank">
					<span class="elementor-screen-only">Github</span>
					<i class="fa fa-github"></i>
				</a>
							<a class="elementor-icon elementor-social-icon elementor-social-icon-twitter" href="https://twitter.com/breakpointv16" target="_blank">
					<span class="elementor-screen-only">Twitter</span>
					<i class="fa fa-twitter"></i>
				</a>
							<a class="elementor-icon elementor-social-icon elementor-social-icon-envelope" href="mailto:veronika.boston16@gmail.com" target="_blank">
					<span class="elementor-screen-only">Email</span>
					<i class="fa fa-envelope"></i>
				</a>
					</div></div></div>							</div>
													<div class="col-md-4">
															</div>
													<div class="col-md-4">
								<div id="custom_html-5" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div style="height:50px;float:right;" class="menu-footer-menu-container"><ul style="float:right;padding-top: 3%;" id="menu-footer-menu" class="menu"><li style="display:inline; margin-right:20px; margin-left:20px;margin-top:20px;" id="menu-item-250" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-250"><a href="/blog/">Blog</a></li>
<li style="display:inline;margin-top:10%;" id="menu-item-249" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-249"><a href="/speaking/">Speaking</a></li>
</ul></div></div></div>							</div>
											</div>
				</div>
			</div>
		
			</footer>

</div>

</body>

</html>
